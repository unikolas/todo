(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r,a,c,o=n(1),s=n.n(o),i=n(13),l=n.n(i),d=(n(21),n(2)),u=n.n(d),b=n(3),p=n(4),j=n(5),h=n(6),x=n(7),m=n.n(x),f={radius:{sm:"7px",md:"13px",lg:"25px"},color:{black:"#333",grey30:"#525C66",grey50:"#828B94",grey80:"#C0C6CC",grey90:"#EDEEF0",grey95:"#F3F3F4",grey100:"whitesmoke",white:"white",primary:"#0666EB",accent:"#F7930D"},text:{h1:"33px/48px",primary:"17px/24px",secondary:"15px/20px",caption:"13px/18px"}},g=h.a.button(r||(r=Object(j.a)(["\n    display: block;\n    width: ",";\n    height: ",";\n    font: ",";\n    background-color: ",";\n    color: white;\n    border-radius: ",";\n    min-height: 40px;\n    padding: 0 16px;\n    border: 1px solid rgba(30, 30, 30, 0);\n    outline: none;\n    transition: all 0.15s ease-in;\n    :hover {\n        background-color: ",";\n    }\n    :active {\n        background-color: ",";\n    }\n    :focus {\n        outline: 0;\n    }\n"])),(function(e){return e.size}),(function(e){return e.h||"40px"}),(function(e){return e.font||f.text.primary}),f.color.primary,f.radius.sm,m()(f.color.primary).lighten(.1),m()(f.color.primary).darken(.1)),O=h.a.input(a||(a=Object(j.a)(["\n    display: block;\n    width: ",";\n    height: ",";\n    font: ",";\n    background-color: ",";\n    border-radius: ",";\n    min-height: 40px;\n    padding: 0 12px;\n    border: 1px solid rgba(30, 30, 30, 0);\n    outline: none;\n    transition: all 0.15s ease-in;\n    ::placeholder {\n        color: ",";\n    }\n    :focus {\n        background-color: ",";\n    }\n"])),(function(e){return e.w||"100%"}),(function(e){return e.h||"40px"}),(function(e){return e.font||f.text.primary}),f.color.grey95,f.radius.sm,f.color.grey,m()(f.color.grey95).darken(.03)),v=n(0),y=function(){var e=Object(o.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(!1),c=Object(p.a)(a,2),s=(c[0],c[1]),i=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n){e.next=15;break}return e.prev=2,a={description:n},s(!0),e.next=7,fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:r(""),window.location="/",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.message);case 14:s(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(o.Fragment,{children:Object(v.jsxs)("form",{className:"d-flex gap-3 mt-4",onSubmit:i,children:[Object(v.jsx)(O,{type:"text",value:n,onChange:function(e){return r(e.target.value)},placeholder:"What's on?",autoFocus:!0}),Object(v.jsx)(g,{onClick:i,children:"Add"})]})})},k=function(e){var t=e.todo,n=Object(o.useState)(t.description),r=Object(p.a)(n,2),a=r[0],c=r[1],s=function(){var e=Object(b.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""===a){e.next=13;break}return e.prev=2,r={description:a},e.next=6,fetch("/api/todos/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 6:c(""),window.location="/",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(o.Fragment,{children:[Object(v.jsx)("button",{className:"btn btn-sm btn-outline-secondary",type:"button","data-bs-toggle":"modal","data-bs-target":"#id".concat(t.id),children:"Edit"}),Object(v.jsx)("div",{className:"modal fade",id:"id".concat(t.id),tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(v.jsx)("div",{className:"modal-dialog",children:Object(v.jsxs)("div",{className:"modal-content",children:[Object(v.jsxs)("div",{className:"modal-header",children:[Object(v.jsxs)("h5",{className:"modal-title",id:"exampleModalLabel",children:["Edit todo ID: ",t.id]}),Object(v.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){return c(t.description)}})]}),Object(v.jsx)("div",{className:"modal-body",children:Object(v.jsx)("input",{type:"text",className:"form-control",value:a,onChange:function(e){return c(e.target.value)},autoFocus:!0})}),Object(v.jsxs)("div",{className:"modal-footer",children:[Object(v.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:function(){return c(t.description)},children:"Close"}),Object(v.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(e){return s(e)},children:"Save changes"})]})]})})})]})},w=function(){var e=Object(o.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/todos");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n.reverse()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){a()}),[]);var c=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/todos/".concat(t),{method:"DELETE"});case 3:r(n.filter((function(e){return e.id!==t}))),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(o.Fragment,{children:Object(v.jsxs)("table",{className:"table mt-4",children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:Object(v.jsx)("th",{children:"Description"})})}),Object(v.jsx)("tbody",{children:n.map((function(e){return Object(v.jsx)("tr",{children:Object(v.jsxs)("td",{className:"d-flex gap-3 align-items-center",children:[Object(v.jsx)("span",{className:"flex-fill fs-6",children:e.description}),Object(v.jsx)(k,{todo:e}),Object(v.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return c(e.id)},children:"Delete"})]})},e.id)}))})]})})},N=h.a.div(c||(c=Object(j.a)(["\n    max-width: 600px;\n    margin: 0 auto;\n    padding: 0vh 5vw;\n"])));var C=function(){return Object(v.jsx)("div",{children:Object(v.jsxs)(o.Fragment,{children:[Object(v.jsx)("h1",{style:{padding:"5vh 5vw 2vh",fontWeight:700,color:"#8899B8"},children:"Todo"}),Object(v.jsxs)(N,{children:[Object(v.jsx)(y,{}),Object(v.jsx)(w,{})]})]})})};l.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(C,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.d2466c16.chunk.js.map